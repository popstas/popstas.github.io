<!doctype html><html xmlns=http://www.w3.org/1999/xhtml xml:lang=en lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,minimum-scale=1,maximum-scale=1"><link href=/css/fonts.css rel=stylesheet type=text/css><title>Popstas</title><link rel=stylesheet href=/css/hugo-octopress.css><link rel=stylesheet href=https://blog.popstas.ru/css/custom.css><link rel=stylesheet href=/css/fork-awesome.min.css><link href=https://blog.popstas.ru/favicon.png rel=icon><link href=http://feeds.feedburner.com/popstas rel=alternate type=application/rss+xml title=RSS><meta name=description content><meta name=keywords content><meta name=author content="Stanislav Popov"><meta name=generator content="Hugo 0.66.0"></head><body><header role=banner><hgroup><div><a href=https://blog.popstas.ru/>Popstas</a></div><div>Записки о Linux</div></hgroup></header><nav role=navigation><fieldset class=mobile-nav><select onchange="location=this.value;">
<option value>Navigate…</option></select></fieldset><ul class=main-navigation></ul><ul class=subscription><a href=http://feeds.feedburner.com/popstas target=_blank type=application/rss+xml title=RSS><i class="fa fa-rss-square fa-lg"></i></a></ul><form action=https://www.google.com/search method=get target=_blank><fieldset role=search><input class=search type=text name=q results=0 placeholder=Search>
<input type=hidden name=q value=site:https://blog.popstas.ru/></fieldset></form></nav><div id=main><div id=content><div class=blog-index><article><header><p class=meta>22 Feb 2017, 01:19
- 1 мин читать</p><div class=entry-title><a href=https://blog.popstas.ru/blog/2017/02/22/2017/02/22/git-extract-subproject-preserving-history/>Извлечение одной из папок в git репозитории в отдельный репозиторий с сохранением истории - git-extract-subproject</a></div></header><p><p>Занялся я тут распиливанием большого проекта (дерево ansible ролей) на отдельные репозитории.</p><h3 id=для-этого-надо>Для этого надо:</h3><ol><li>Извлечь директорию подпроекта в отдельный репозиторий</li><li>Удалить из проекта папку подпроекта</li><li>Добавить в большой проект зависимость от подпроекта</li></ol><p>Ниже написано, как сделать 1-й шаг одной командой через скрипт <code>git-extract-subproject</code>.</p><img itemprop=image src=/images/2017-02/git-extract-subproject.jpg></p><footer><a href=https://blog.popstas.ru/blog/2017/02/22/2017/02/22/git-extract-subproject-preserving-history/ class=full-article rel=nofollow>Читать &rarr;</a></footer></article><article><header><p class=meta>19 May 2016, 00:47
- 5 мин читать</p><div class=entry-title><a href=https://blog.popstas.ru/blog/2016/05/19/kapacitor-ansible-install-monit-comparsion/>Kapacitor: часть 1. Введение, сравнение с Monit, установка с Ansible и без, настройка</a></div></header><p><p>Несколько недель назад я начал разбираться с Kapacitor, попутно записывая свои действия. Конца разбирательствам было не видно, записей становилось все больше и накопилось на серию.</p><p>Речь пойдет о Kapacitor, последнеем слое из стека <a href=https://influxdata.com/get-started/what-is-the-tick-stack/>TICK</a> от InfluxData, набора программ для сбора, отображения и обработке метрик.</p><p>Tl;dr: думаю, что Kapacitor нужен только тем, кто уже использует InfluxDB для сбора метрик. С установкой могут быть проблемы, если руки кривые.</p><p>А также небольшое замечание о том, <a href=/blog/2016/05/19/kapacitor-ansible-install-monit-comparsion/#github-pull-request>как делать Pull request'ы из браузера за 2 минуты</a></p><img itemprop=image src=/images/2016-05/kapacitor.svg></p><footer><a href=https://blog.popstas.ru/blog/2016/05/19/kapacitor-ansible-install-monit-comparsion/ class=full-article rel=nofollow>Читать &rarr;</a></footer></article><article><header><p class=meta>11 Apr 2016, 05:01
- 2 мин читать</p><div class=entry-title><a href=https://blog.popstas.ru/blog/2016/04/11/bash-on-ubuntu-on-windows/>Bash on Ubuntu on Windows: первый блин</a></div></header><p>Итак, дождался обновления Windows, поставил в нее Ubuntu по инструкции, вот что было дальше:
Tl;dr: оно очень сырое, не работает почти ничего.
Первым делом захотелось родной zsh, берем aptitude, ставим, Ubuntu же! Шелл открылся под root, так что sudo не нужен.
$ aptitude install zsh Конечно, ничего не вышло :) Во-первых, aptitude не нашел файл /var/lock/aptitude, нет проблем, ставим через apt-get, но оказывается, что нет инета.
Про это есть issue#14 (а багов за 4 дня открыли 40+), оказалось, дело в DNS, лечится так:</p><footer><a href=https://blog.popstas.ru/blog/2016/04/11/bash-on-ubuntu-on-windows/ class=full-article rel=nofollow>Читать &rarr;</a></footer></article><article><header><p class=meta>7 Apr 2016, 00:26
- 2 мин читать</p><div class=entry-title><a href=https://blog.popstas.ru/blog/2016/04/07/windows-ubuntu-bash-insider-update-not-available/>Windows 10 build 14316 со встроенной Ubuntu и bash через программу Microsoft Insider Preview доступна не всем</a></div></header><p><p>Все конечно слышали, что Microsoft и Canonical сговорились и встроили в винду линукс. Так вот, его пока еще нельзя потрогать.</p><p>UPD 11.04.2016: сборка 14316 дошла до меня, смотрите инструкцию по настройке.</p><ul><li><a href=https://github.com/Microsoft/CommandLine-Documentation/issues/5>issue про недоступность сборки 14316</a></li><li><a href=http://blog.zacorp.ru/main/kak-vklyuchit-podderzhku-ubuntu-v-windows-10/>Инструкция по обновлению на русском</a></li></ul><img itemprop=image src=http://az648995.vo.msecnd.net/win/2016/04/bash-1024x569.png></p><footer><a href=https://blog.popstas.ru/blog/2016/04/07/windows-ubuntu-bash-insider-update-not-available/ class=full-article rel=nofollow>Читать &rarr;</a></footer></article><article><header><p class=meta>6 Mar 2016, 10:09
- 7 мин читать</p><div class=entry-title><a href=https://blog.popstas.ru/blog/2016/03/06/changelog-dot-md-generate-from-git-conventions/>CHANGELOG.md: ручное и автоматическое ведение истории изменений проекта в Git</a></div></header><p><p>С начала января я веду свой <a href=/blog/2016/01/17/torrent-transmission-client-for-weburg/>проектик</a>, на котором обкатываю новые для меня технологии:</p><ul><li>Статический анализ кода, phpcs, phpmd, Scrutinizer</li><li>Автоматическая сборка, Travis CI</li><li>Unit тесты, PHPUnit</li><li>Покрытие кода, Coveralls</li><li>Работу через задачи для любых изменений, Github Issues, PhpStorm tasks</li><li>Документирование всего: README, CHANGELOG, сайт проекта, &ndash;help</li></ul><p>В этом посте изложена история изменений моего мнения о разных генераторах историй изменения.</p><p>Tl;dr: conventional-changelog, стандартизация коммитов.</p><img itemprop=image src=/images/2016-03/changelog.png></p><footer><a href=https://blog.popstas.ru/blog/2016/03/06/changelog-dot-md-generate-from-git-conventions/ class=full-article rel=nofollow>Читать &rarr;</a></footer></article><article><header><p class=meta>2 Mar 2016, 00:49
- 5 мин читать</p><div class=entry-title><a href=https://blog.popstas.ru/blog/2016/03/02/git-gitlab-planfix-integration/>Интеграция Git, Gitlab и Planfix почти как на Github</a></div></header><p><p>Распробовал тут на неделе интеграцию задач Github и самого Git issue tracker.</p><p>Ниже будет написано, как настроить в <a href=https://planfix.ru/>Планфиксе</a> такое поведение:</p><ul><li>В коммите упоминаем задачу, например, <code>Правки футера шаблона, https://test.planfix.ru/task/123456</code></li><li>После push в удаленный репозиторий в упомянутой задаче появляется комментарий с текстом коммита и ссылкой на страницу коммита
на Gitlab, если проект подключен к репозиторию.</li></ul><p>Tl;dr: настраивается post-receive hook в Git на удаленном сервере,
после каждого пуша анализируются сообщения пришедших коммитов, коммиты, содержащие ссылки на задачи отправляются в задачи по email.</p><p>Вся интеграция делается в одном файле, код хука лежит здесь -
<a href=https://github.com/popstas/server-scripts/blob/master/bin/git-hook-post-receive>git-hook-post-receive</a></p><img itemprop=image src=/images/2016-03/planfix_logo.png></p><footer><a href=https://blog.popstas.ru/blog/2016/03/02/git-gitlab-planfix-integration/ class=full-article rel=nofollow>Читать &rarr;</a></footer></article><article><header><p class=meta>29 Feb 2016, 03:46
- 2 мин читать</p><div class=entry-title><a href=https://blog.popstas.ru/blog/2016/02/29/average-time-of-script-execution-in-bash/>average: измерение среднего времени выполнения команды в bash</a></div></header><p><p>Периодически хочется посчитать среднее время, у меня были такие сценарии:</p><ul><li>простая проверка скорости загрузки страницы</li><li>подбор оптимальных параметров к команде</li><li>сравнение разных команд</li></ul><p>Раньше я просто запускал несколько раз с <code>time</code>, смотрел результат, у уме делил.
Но мне это надоело, поэтому написал скрипт <code>average</code>.</p></p><footer><a href=https://blog.popstas.ru/blog/2016/02/29/average-time-of-script-execution-in-bash/ class=full-article rel=nofollow>Читать &rarr;</a></footer></article><article><header><p class=meta>27 Feb 2016, 14:48
- 7 мин читать</p><div class=entry-title><a href=https://blog.popstas.ru/blog/2016/02/27/content-consumption-pyramid-rss/>Как я обрабатываю входящие потоки контента через RSS и Pocket или моя воронка статей</a></div></header><p><p>Хочу поделиться своим способом быть в курсе всего интересного в мире IT, читать много статей и знать, где быстро найти нужную статью.</p><p>Tl;dr: RSS + Twitter + Email → Pocket → Firefox → Twitter + закладки.</p><img itemprop=image src=/images/2016-02/content_pyramid.png></p><footer><a href=https://blog.popstas.ru/blog/2016/02/27/content-consumption-pyramid-rss/ class=full-article rel=nofollow>Читать &rarr;</a></footer></article><article><header><p class=meta>26 Feb 2016, 21:29
- 7 мин читать</p><div class=entry-title><a href=https://blog.popstas.ru/blog/2016/02/26/docker-in-images/>Docker в картинках</a></div></header><p><p>Оставлю здесь <a href=http://habrahabr.ru/post/272145/>свой пост</a> с хабра.</p><p><em>Перевод поста <a href=http://merrigrove.blogspot.co.uk/2015/10/visualizing-docker-containers-and-images.html>Visualizing Docker Containers and Images</a>, от новичка к новичкам, автор на простых примерах объясняет базовые сущности и процессы в использовании docker.</em></p><p>Если вы не знаете, что такое Docker или не понимаете, как он соотносится с виртуальными машинами или с инструментами configuration management, то этот пост может показаться немного сложным.</p><p>Пост предназначен для тех, кто пытается освоить docker cli, понять, чем отличается контейнер и образ. В частности, будет объяснена разница между просто контейнером и запущенным контейнером.</p><img itemprop=image src=https://habrastorage.org/files/8ff/349/fb2/8ff349fb23f840589c479d029964b8dc.png></p><footer><a href=https://blog.popstas.ru/blog/2016/02/26/docker-in-images/ class=full-article rel=nofollow>Читать &rarr;</a></footer></article><article><header><p class=meta>25 Feb 2016, 23:31
- 4 мин читать</p><div class=entry-title><a href=https://blog.popstas.ru/blog/2016/02/25/big-touchpad-as-mouse-replacement/>Большой тачпад как замена мышки</a></div></header><p><p>Наслушавшись рассказов про то, какой на макбуке офигенный большой тачпад и как он легко заменяет мышку,
нашел способ испытать это на себе бесплатно. Описываю свои впечатления как обычно: плюсы, минусы, грабли, способы обхода.</p><img itemprop=image src=/images/2016-02/touchpad_wacom.jpg></p><footer><a href=https://blog.popstas.ru/blog/2016/02/25/big-touchpad-as-mouse-replacement/ class=full-article rel=nofollow>Читать &rarr;</a></footer></article><div class=pagination><a href=/ aria-label=First class=label-pagination><i class="fa fa-angle-double-left fa-lg"></i></a><a href=/page/3/ aria-label=Previous class=label-pagination><i class="fa fa-angle-left fa-lg"></i></a><a href=/ class=label-pagination>1</a>
<a href=/page/2/ class=label-pagination>2</a>
<a href=/page/3/ class=label-pagination>3</a>
<a href=/page/4/ class=label-pagination>4</a>
<a href=/page/5/ class=label-pagination>5</a>
<a href=/page/5/ aria-label=Next class=label-pagination><i class="fa fa-angle-right fa-lg"></i></a><a href=/page/5/ aria-label=Last><i class="fa fa-angle-double-right fa-lg"></i></a></div></div><aside class="sidebar thirds"><section class="first odd"><p></p></section><ul class=sidebar-nav><li class=sidebar-nav-item><a target=_blank href=https://github.com/popstas/ title=https://github.com/popstas/><i class="fa fa-github fa-3x"></i></a><a target=_blank href=https://twitter.com/popstas/ title=https://twitter.com/popstas/><i class="fa fa-twitter fa-3x"></i></a><a target=_blank href="tg://resolve?domain=popstas" title=popstas><i class="fa fa-telegram fa-3x"></i></a><a target=_blank href=mailto:popstas@gmail.com title=popstas@gmail.com><i class="fa fa-at fa-3x"></i></a></li></ul><section class=even><div class=sidebar-title>Последние посты:</div><ul id=recent_posts><li class=post><a href=/blog/2019/12/29/new-year-2019/>Итоги 2019 года</a></li><li class=post><a href=/blog/2019/12/29/books-2019/>Мои книги в 2019: психология, бизнес, художка</a></li><li class=post><a href=/blog/2019/12/02/smarthome-node-red-2019/>Мой умный дом 2019: Sonoff, ESP8266, MQTT, Node-red, Алиса</a></li><li class=post><a href=/blog/2019/04/06/ilife-a9s-stress-test/>Сколько раз нужно пропылесосить ковёр, чтобы полностью очистить от пыли? Продолжение теста пылесоса ILIFE a9s</a></li></ul></section></aside></div></div><footer role=contentinfo><p>Copyright &copy; 2015-2020 Stanislav Popov -
<span class=credit>Powered by <a target=_blank href=https://gohugo.io>Hugo</a> and <a target=_blank href=https://github.com/parsiya/hugo-octopress/>Hugo-Octopress</a> theme.</p></footer><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-WPJWVXB');</script><script type=text/javascript>(function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};m[i].l=1*new Date();k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
(window,document,"script","https://mc.yandex.ru/metrika/tag.js","ym");ym(51681281,"init",{id:51681281,clickmap:true,trackLinks:true,accurateTrackBounce:true,webvisor:true});</script><noscript><div><img src=https://mc.yandex.ru/watch/51681281 style=position:absolute;left:-9999px alt></div></noscript></body></html>